"use strict";(self.webpackChunkdanatelecom=self.webpackChunkdanatelecom||[]).push([[800],{5800:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(4942),a=r(1413),s=r(5861),i=r(885),l=r(7757),c=r.n(l),u=r(2791),o=r(6871),d=r(4390),b=r(907);var x=r(181);function p(e){return function(e){if(Array.isArray(e))return(0,b.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,x.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=r(184),f=function(e){var t=e.onSubmit,r=e.onCancel,l=e.product,o=(0,u.useState)({title:"",description:"",price:"",type_detail:"camera",isActive:!0}),d=(0,i.Z)(o,2),b=d[0],x=d[1],f=(0,u.useState)(null),h=(0,i.Z)(f,2),g=h[0],v=h[1],y=(0,u.useState)([]),j=(0,i.Z)(y,2),N=j[0],k=j[1],w=(0,u.useState)({}),Z=(0,i.Z)(w,2),C=Z[0],S=Z[1],_=(0,u.useState)(""),A=(0,i.Z)(_,2),P=A[0],E=A[1];(0,u.useEffect)((function(){l&&(x({title:l.title||"",description:l.description||"",price:l.price||"",type_detail:l.type_detail||"camera",isActive:l.isActive}),k(l.features||[]),S(l.specifications||{}))}),[l]);var q=function(e){var t=e.target,r=t.name,s=t.value;x((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,s))}))},O=function(){var e=(0,s.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),E(""),b.title&&b.description&&b.price&&b.type_detail){e.next=5;break}return E("Please fill in all required fields"),e.abrupt("return");case 5:if(l||g){e.next=8;break}return E("Please select an image"),e.abrupt("return");case 8:return e.prev=8,(n=new FormData).append("title",b.title),n.append("description",b.description),n.append("price",b.price),n.append("type_detail",b.type_detail),n.append("isActive",b.isActive),g&&n.append("image",g),N.forEach((function(e,t){n.append("features[".concat(t,"]"),e)})),Object.entries(C).forEach((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];n.append("specifications[".concat(r,"]"),a)})),e.next=20,t(n);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),E("Failed to save product"),console.error("Error saving product:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[P&&(0,m.jsx)("div",{className:"bg-red-900/50 border border-red-500 text-red-400 px-4 py-3 rounded relative",children:P}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 *"}),(0,m.jsx)("input",{type:"text",name:"title",value:b.title,onChange:q,required:!0,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0648\u0635\u0641 *"}),(0,m.jsx)("textarea",{name:"description",value:b.description,onChange:q,required:!0,rows:3,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0633\u0639\u0631 *"}),(0,m.jsx)("input",{type:"number",name:"price",value:b.price,onChange:q,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0646\u0648\u0639 *"}),(0,m.jsxs)("select",{name:"type_detail",value:b.type_detail,onChange:q,required:!0,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500",children:[(0,m.jsx)("option",{value:"camera",children:"\u0643\u0627\u0645\u064a\u0631\u0627"}),(0,m.jsx)("option",{value:"dvr",children:"\u0645\u0633\u062c\u0644"}),(0,m.jsx)("option",{value:"nvr",children:"\u0645\u0633\u062c\u0644 \u0634\u0628\u0643\u0629"}),(0,m.jsx)("option",{value:"accessories",children:"\u0645\u0644\u062d\u0642\u0627\u062a"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-blue-400",children:["\u0627\u0644\u0635\u0648\u0631\u0629 ",!l&&"*"]}),(0,m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&v(t)},required:!l,className:"mt-1 block w-full text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"}),N.map((function(e,t){return(0,m.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,m.jsx)("input",{type:"text",value:e,onChange:function(e){return function(e,t){var r=p(N);r[e]=t,k(r)}(t,e.target.value)},className:"flex-1 rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("button",{type:"button",onClick:function(){return function(e){var t=N.filter((function(t,r){return r!==e}));k(t)}(t)},className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"\u062d\u0630\u0641"})]},t)})),(0,m.jsx)("button",{type:"button",onClick:function(){k([].concat(p(N),[""]))},className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u064a\u0632\u0629"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062a"}),Object.entries(C).map((function(e,t){var r=(0,i.Z)(e,2),s=r[0],l=r[1];return(0,m.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,m.jsx)("input",{type:"text",value:s,onChange:function(e){var t=(0,a.Z)({},C);delete t[s],t[e.target.value]=l,S(t)},placeholder:"\u0627\u0644\u0645\u0641\u062a\u0627\u062d",className:"block w-1/3 rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("input",{type:"text",value:l,onChange:function(e){return function(e,t){S((function(r){return(0,a.Z)((0,a.Z)({},r),{},(0,n.Z)({},e,t))}))}(s,e.target.value)},placeholder:"\u0627\u0644\u0642\u064a\u0645\u0629",className:"block w-1/3 rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("button",{type:"button",onClick:function(){return function(e){var t=(0,a.Z)({},C);delete t[e],S(t)}(s)},className:"text-red-600 hover:text-red-800",children:"\u062d\u0630\u0641"})]},t)})),(0,m.jsx)("button",{type:"button",onClick:function(){S((function(e){return(0,a.Z)((0,a.Z)({},e),{},{"":""})}))},className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0627\u0635\u0641\u0629"})]}),(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("input",{type:"checkbox",name:"isActive",checked:b.isActive,onChange:q,className:"h-4 w-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),(0,m.jsx)("label",{className:"mr-2 block text-sm font-medium text-blue-400",children:"\u0645\u062a\u0648\u0641\u0631"})]}),(0,m.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,m.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"\u0625\u0644\u063a\u0627\u0621"}),(0,m.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[l?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0646\u0634\u0627\u0621"," \u0627\u0644\u0645\u0646\u062a\u062c"]})]})]})},h=function(e){var t=e.onSubmit,r=e.onCancel,l=e.product,o=(0,u.useState)({title:"",description:"",price:"",type_detail:"nanobeam",isActive:!0}),d=(0,i.Z)(o,2),b=d[0],x=d[1],f=(0,u.useState)(null),h=(0,i.Z)(f,2),g=h[0],v=h[1],y=(0,u.useState)([]),j=(0,i.Z)(y,2),N=j[0],k=j[1],w=(0,u.useState)({}),Z=(0,i.Z)(w,2),C=Z[0],S=Z[1],_=(0,u.useState)(""),A=(0,i.Z)(_,2),P=A[0],E=A[1];(0,u.useEffect)((function(){l&&(x({title:l.title||"",description:l.description||"",price:l.price||"",type_detail:l.type_detail||"nanobeam",isActive:l.isActive}),k(l.features||[]),S(l.specifications||{}))}),[l]);var q=function(e){var t=e.target,r=t.name,s=t.value;x((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,s))}))},O=function(){var e=(0,s.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),E(""),b.title&&b.description&&b.price&&b.type_detail){e.next=5;break}return E("Please fill in all required fields"),e.abrupt("return");case 5:if(l||g){e.next=8;break}return E("Please select an image"),e.abrupt("return");case 8:return e.prev=8,(n=new FormData).append("title",b.title),n.append("description",b.description),n.append("price",b.price),n.append("type_detail",b.type_detail),n.append("isActive",b.isActive),g&&n.append("image",g),N.forEach((function(e,t){n.append("features[".concat(t,"]"),e)})),Object.entries(C).forEach((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];n.append("specifications[".concat(r,"]"),a)})),e.next=20,t(n);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),E("Failed to save product"),console.error("Error saving product:",e.t0);case 26:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[P&&(0,m.jsx)("div",{className:"bg-red-900/50 border border-red-500 text-red-400 px-4 py-3 rounded relative",children:P}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 *"}),(0,m.jsx)("input",{type:"text",name:"title",value:b.title,onChange:q,required:!0,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0648\u0635\u0641 *"}),(0,m.jsx)("textarea",{name:"description",value:b.description,onChange:q,required:!0,rows:3,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0633\u0639\u0631 *"}),(0,m.jsx)("input",{type:"number",name:"price",value:b.price,onChange:q,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0646\u0648\u0639 *"}),(0,m.jsxs)("select",{name:"type_detail",value:b.type_detail,onChange:q,required:!0,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500",children:[(0,m.jsx)("option",{value:"nanobeam",children:"\u0646\u0627\u0646\u0648\u0628\u064a\u0645"}),(0,m.jsx)("option",{value:"nanostation",children:"\u0646\u0627\u0646\u0648\u0633\u062a\u064a\u0634\u0646"}),(0,m.jsx)("option",{value:"powerbeam",children:"\u0628\u0627\u0648\u0631\u0628\u064a\u0645"}),(0,m.jsx)("option",{value:"airmax",children:"\u0627\u064a\u0631\u0645\u0627\u0643\u0633"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-blue-400",children:["\u0627\u0644\u0635\u0648\u0631\u0629 ",!l&&"*"]}),(0,m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&v(t)},required:!l,className:"mt-1 block w-full text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0645\u0645\u064a\u0632\u0627\u062a"}),N.map((function(e,t){return(0,m.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,m.jsx)("input",{type:"text",value:e,onChange:function(e){return function(e,t){var r=p(N);r[e]=t,k(r)}(t,e.target.value)},className:"flex-1 rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("button",{type:"button",onClick:function(){return function(e){var t=N.filter((function(t,r){return r!==e}));k(t)}(t)},className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"\u062d\u0630\u0641"})]},t)})),(0,m.jsx)("button",{type:"button",onClick:function(){k([].concat(p(N),[""]))},className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u064a\u0632\u0629"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0645\u0648\u0627\u0635\u0641\u0627\u062a"}),Object.entries(C).map((function(e,t){var r=(0,i.Z)(e,2),s=r[0],l=r[1];return(0,m.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,m.jsx)("input",{type:"text",value:s,onChange:function(e){var t=(0,a.Z)({},C);delete t[s],t[e.target.value]=l,S(t)},placeholder:"\u0627\u0644\u0645\u0641\u062a\u0627\u062d",className:"block w-1/3 rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("input",{type:"text",value:l,onChange:function(e){return function(e,t){S((function(r){return(0,a.Z)((0,a.Z)({},r),{},(0,n.Z)({},e,t))}))}(s,e.target.value)},placeholder:"\u0627\u0644\u0642\u064a\u0645\u0629",className:"block w-1/3 rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("button",{type:"button",onClick:function(){return function(e){var t=(0,a.Z)({},C);delete t[e],S(t)}(s)},className:"text-red-600 hover:text-red-800",children:"\u062d\u0630\u0641"})]},t)})),(0,m.jsx)("button",{type:"button",onClick:function(){S((function(e){return(0,a.Z)((0,a.Z)({},e),{},{"":""})}))},className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0627\u0635\u0641\u0629"})]}),(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("input",{type:"checkbox",name:"isActive",checked:b.isActive,onChange:q,className:"h-4 w-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),(0,m.jsx)("label",{className:"mr-2 block text-sm font-medium text-blue-400",children:"\u0645\u062a\u0648\u0641\u0631"})]}),(0,m.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,m.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"\u0625\u0644\u063a\u0627\u0621"}),(0,m.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[l?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0646\u0634\u0627\u0621"," \u0627\u0644\u0645\u0646\u062a\u062c"]})]})]})},g=function(e){var t,r=e.onSubmit,s=e.onCancel,l=e.product,c=(0,u.useState)({title:(null===l||void 0===l?void 0:l.title)||"",description:(null===l||void 0===l?void 0:l.description)||"",price:(null===l||void 0===l?void 0:l.price)||"",type_detail:(null===l||void 0===l?void 0:l.type_detail)||"wifi",features:(null===l||void 0===l?void 0:l.features)||[],specifications:(null===l||void 0===l?void 0:l.specifications)||{},isActive:null===(t=null===l||void 0===l?void 0:l.isActive)||void 0===t||t}),o=(0,i.Z)(c,2),d=o[0],b=o[1],x=(0,u.useState)(""),f=(0,i.Z)(x,2),h=f[0],g=f[1],v=(0,u.useState)(""),y=(0,i.Z)(v,2),j=y[0],N=y[1],k=(0,u.useState)(""),w=(0,i.Z)(k,2),Z=w[0],C=w[1],S=function(e){var t=e.target,r=t.name,s=t.value,i=t.type,l=t.checked;b((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,"checkbox"===i?l:s))}))};return(0,m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),d.title&&d.description&&d.price&&d.type_detail){var t=d.features.filter((function(e){return""!==e.trim()})),n=(0,a.Z)((0,a.Z)({},d),{},{features:t,price:Number(d.price)});g(""),r(n)}else g("Please fill in all required fields.")},className:"space-y-6",children:[h&&(0,m.jsx)("div",{className:"text-red-600",children:h}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,m.jsx)("input",{type:"text",name:"title",value:d.title,onChange:S,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,m.jsx)("textarea",{name:"description",value:d.description,onChange:S,required:!0,rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),(0,m.jsx)("input",{type:"number",name:"price",value:d.price,onChange:S,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),(0,m.jsxs)("select",{name:"type_detail",value:d.type_detail,onChange:S,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,m.jsx)("option",{value:"wifi",children:"WiFi"}),(0,m.jsx)("option",{value:"adsl",children:"ADSL"}),(0,m.jsx)("option",{value:"vdsl",children:"VDSL"})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Specifications"}),(0,m.jsxs)("div",{className:"mt-2 space-y-2",children:[Object.entries(d.specifications).map((function(e){var t=(0,i.Z)(e,2),r=t[0],n=t[1];return(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsxs)("span",{className:"flex-1 bg-gray-100 p-2 rounded",children:[r,": ",n]}),(0,m.jsx)("button",{type:"button",onClick:function(){return function(e){b((function(t){var r=(0,a.Z)({},t.specifications);return delete r[e],(0,a.Z)((0,a.Z)({},t),{},{specifications:r})}))}(r)},className:"text-red-600 hover:text-red-800",children:"Remove"})]},r)})),(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("input",{type:"text",value:j,onChange:function(e){return N(e.target.value)},placeholder:"Specification name",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("input",{type:"text",value:Z,onChange:function(e){return C(e.target.value)},placeholder:"Value",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("button",{type:"button",onClick:function(){j&&Z&&(b((function(e){return(0,a.Z)((0,a.Z)({},e),{},{specifications:(0,a.Z)((0,a.Z)({},e.specifications),{},(0,n.Z)({},j,Z))})})),N(""),C(""))},className:"text-blue-600 hover:text-blue-800",children:"Add"})]})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Features"}),(0,m.jsxs)("div",{className:"mt-2 space-y-2",children:[d.features.map((function(e,t){return(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("input",{type:"text",value:e,onChange:function(e){return function(e,t){b((function(r){return(0,a.Z)((0,a.Z)({},r),{},{features:r.features.map((function(r,n){return n===e?t:r}))})}))}(t,e.target.value)},placeholder:"Feature",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,m.jsx)("button",{type:"button",onClick:function(){return function(e){b((function(t){return(0,a.Z)((0,a.Z)({},t),{},{features:t.features.filter((function(t,r){return r!==e}))})}))}(t)},className:"text-red-600 hover:text-red-800",children:"Remove"})]},t)})),(0,m.jsx)("button",{type:"button",onClick:function(){b((function(e){return(0,a.Z)((0,a.Z)({},e),{},{features:[].concat(p(e.features),[""])})}))},className:"text-blue-600 hover:text-blue-800",children:"+ Add Feature"})]})]}),(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("input",{type:"checkbox",name:"isActive",checked:d.isActive,onChange:S,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,m.jsx)("label",{className:"ml-2 block text-sm text-gray-700",children:"Active"})]}),(0,m.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,m.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-900 text-white rounded-md hover:bg-blue-800",children:l?"Update Package":"Create Package"})]})]})},v=function(e){var t=e.onSubmit,r=e.onCancel,l=e.news,o=(0,u.useState)({title:"",content:"",isPublished:!0}),d=(0,i.Z)(o,2),b=d[0],x=d[1],p=(0,u.useState)(null),f=(0,i.Z)(p,2),h=f[0],g=f[1],v=(0,u.useState)(""),y=(0,i.Z)(v,2),j=y[0],N=y[1];(0,u.useEffect)((function(){l&&x({title:l.title||"",content:l.content||"",isPublished:l.isPublished})}),[l]);var k=function(e){var t=e.target,r=t.name,s=t.value,i=t.type,l=t.checked;x((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,"checkbox"===i?l:s))}))},w=function(){var e=(0,s.Z)(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),N(""),b.title&&b.content){e.next=5;break}return N("Please fill in all required fields"),e.abrupt("return");case 5:if(l||h){e.next=8;break}return N("Please select an image"),e.abrupt("return");case 8:return e.prev=8,(n=new FormData).append("title",b.title),n.append("content",b.content),n.append("isPublished",b.isPublished),h&&n.append("image",h),e.next=16,t(n);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(8),N("Failed to save news post"),console.error("Error saving news post:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[j&&(0,m.jsx)("div",{className:"bg-red-900/50 border border-red-500 text-red-400 px-4 py-3 rounded relative",children:j}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0639\u0646\u0648\u0627\u0646 *"}),(0,m.jsx)("input",{type:"text",name:"title",value:b.title,onChange:k,required:!0,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-blue-400",children:"\u0627\u0644\u0645\u062d\u062a\u0648\u0649 *"}),(0,m.jsx)("textarea",{name:"content",value:b.content,onChange:k,required:!0,rows:6,className:"mt-1 block w-full rounded-md bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500"})]}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("label",{className:"block text-sm font-medium text-blue-400",children:["\u0627\u0644\u0635\u0648\u0631\u0629 ",!l&&"*"]}),(0,m.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];t&&g(t)},required:!l,className:"mt-1 block w-full text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700"})]}),(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("input",{type:"checkbox",name:"isPublished",checked:b.isPublished,onChange:k,className:"h-4 w-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),(0,m.jsx)("label",{className:"mr-2 block text-sm font-medium text-blue-400",children:"\u0646\u0634\u0631 \u0627\u0644\u062e\u0628\u0631"})]}),(0,m.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,m.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"\u0625\u0644\u063a\u0627\u0621"}),(0,m.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[l?"\u062a\u062d\u062f\u064a\u062b":"\u0625\u0646\u0634\u0627\u0621"," \u0627\u0644\u062e\u0628\u0631"]})]})]})},y=function(){var e=(0,o.s0)(),t=(0,u.useState)(!1),r=(0,i.Z)(t,2),l=r[0],b=r[1],x=(0,u.useState)(!0),p=(0,i.Z)(x,2),y=p[0],j=p[1],N=(0,u.useState)({cctv:[],nanobeam:[],internet:[]}),k=(0,i.Z)(N,2),w=k[0],Z=k[1],C=(0,u.useState)(null),S=(0,i.Z)(C,2),_=S[0],A=S[1],P=(0,u.useState)("cctv"),E=(0,i.Z)(P,2),q=E[0],O=E[1],D=(0,u.useState)(null),F=(0,i.Z)(D,2),B=F[0],I=F[1],L=(0,u.useState)(!1),T=(0,i.Z)(L,2),Q=T[0],R=T[1],V=(0,u.useState)([]),z=(0,i.Z)(V,2),G=z[0],J=z[1],K=(0,u.useState)(null),U=(0,i.Z)(K,2),W=U[0],X=U[1];(0,u.useEffect)((function(){H(),Y()}),[]);var H=function(){var t=(0,s.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.ts)();case 3:if("admin"===t.sent.role){t.next=7;break}return e("/"),t.abrupt("return");case 7:return b(!0),t.next=10,M();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Error checking admin status:",t.t0),e("/login");case 16:return t.prev=16,j(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var e=(0,s.Z)(c().mark((function e(){var t,r,n,s,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,Promise.all([(0,d.tQ)(),(0,d.Zp)(),(0,d.xK)()]);case 4:t=e.sent,r=(0,i.Z)(t,3),n=r[0],s=r[1],l=r[2],u=function(e){return e.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{image:e.image?"".concat("https://dana-telecom-backend-production.up.railway.app/").concat(e.image):null})}))},Z({cctv:u(n),nanobeam:u(s),internet:u(l)}),A(null),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),A("Failed to fetch products"),console.error("Error fetching products:",e.t0);case 18:return e.prev=18,j(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.dD)();case 3:t=e.sent,J(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching news:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,s.Z)(c().mark((function e(t,r){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c\u061f")){e.next=2;break}return e.abrupt("return");case 2:e.prev=2,e.t0=r,e.next="cctv"===e.t0?6:"nanobeam"===e.t0?10:"internet"===e.t0?14:18;break;case 6:return e.next=8,(0,d.J)(t);case 8:return s=e.sent,e.abrupt("break",19);case 10:return e.next=12,(0,d.ok)(t);case 12:return s=e.sent,e.abrupt("break",19);case 14:return e.next=16,(0,d.q_)(t);case 16:return s=e.sent,e.abrupt("break",19);case 18:throw new Error("Invalid category");case 19:if(!s.success){e.next=24;break}Z((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,e[r].filter((function(e){return e._id!==t}))))})),A(null),e.next=25;break;case 24:throw new Error(s.message||"Failed to delete product");case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(2),A("Failed to delete product"),console.error("Error deleting product:",e.t1);case 31:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t,r){return e.apply(this,arguments)}}(),ee=function(){var e=(0,s.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"cctv"!==q){e.next=13;break}if(!B){e.next=8;break}return e.next=5,(0,d.SQ)(B._id,t);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,(0,d.pb)(t);case 10:r=e.sent;case 11:e.next=55;break;case 13:if("nanobeam"!==q){e.next=25;break}if(!B){e.next=20;break}return e.next=17,(0,d.EF)(B._id,t);case 17:r=e.sent,e.next=23;break;case 20:return e.next=22,(0,d.qB)(t);case 22:r=e.sent;case 23:e.next=55;break;case 25:if("internet"!==q){e.next=37;break}if(!B){e.next=32;break}return e.next=29,(0,d.uC)(B._id,t);case 29:r=e.sent,e.next=35;break;case 32:return e.next=34,(0,d.GI)(t);case 34:r=e.sent;case 35:e.next=55;break;case 37:if("news"!==q){e.next=54;break}if(!W){e.next=44;break}return e.next=41,(0,d.jB)(W._id,t);case 41:r=e.sent,e.next=47;break;case 44:return e.next=46,(0,d.zX)(t);case 46:r=e.sent;case 47:return e.next=49,Y();case 49:return R(!1),X(null),e.abrupt("return");case 54:throw new Error("Invalid category");case 55:if(!r.success){e.next=63;break}return e.next=58,M();case 58:R(!1),I(null),A(null),e.next=64;break;case 63:throw new Error(r.message||"Failed to save product");case 64:e.next=70;break;case 66:e.prev=66,e.t0=e.catch(0),A("\u0641\u0634\u0644 \u0641\u064a \u062d\u0641\u0638 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a"),console.error("Error saving product:",e.t0);case 70:case"end":return e.stop()}}),e,null,[[0,66]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){R(!1),I(null),X(null)},re=function(){var e=(0,s.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062e\u0628\u0631\u061f")){e.next=13;break}return e.prev=1,e.next=4,(0,d.kN)(t);case 4:return e.next=6,Y();case 6:A(null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),A("\u0641\u0634\u0644 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u062e\u0628\u0631"),console.error("Error deleting news:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return y?(0,m.jsx)("div",{children:"Loading..."}):l?(0,m.jsx)("div",{className:"bg-gray-900 min-h-screen py-12 pt-24",dir:"rtl",children:(0,m.jsx)("div",{className:"container mx-auto px-4",children:Q?(0,m.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,m.jsxs)("h2",{className:"text-2xl font-bold text-blue-400",children:[B||W?"\u062a\u0639\u062f\u064a\u0644":"\u0625\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f"," - ","cctv"===q?"\u0643\u0627\u0645\u064a\u0631\u0627 \u0645\u0631\u0627\u0642\u0628\u0629":"nanobeam"===q?"NanoBeam":"internet"===q?"\u0628\u0627\u0642\u0629 \u0625\u0646\u062a\u0631\u0646\u062a":"\u062e\u0628\u0631"]}),(0,m.jsx)("button",{onClick:te,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"\u0625\u0644\u063a\u0627\u0621"})]}),function(){if(!Q)return null;var e={onSubmit:ee,onCancel:te,product:B};switch(q){case"cctv":return(0,m.jsx)(f,(0,a.Z)({},e));case"nanobeam":return(0,m.jsx)(h,(0,a.Z)({},e));case"internet":return(0,m.jsx)(g,(0,a.Z)({},e));case"news":return(0,m.jsx)(v,(0,a.Z)((0,a.Z)({},e),{},{news:W}));default:return null}}()]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"flex gap-4 mb-8",children:[(0,m.jsx)("button",{onClick:function(){return O("cctv")},className:"px-4 py-2 rounded ".concat("cctv"===q?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:"\u0643\u0627\u0645\u064a\u0631\u0627\u062a \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629"}),(0,m.jsx)("button",{onClick:function(){return O("nanobeam")},className:"px-4 py-2 rounded ".concat("nanobeam"===q?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:"NanoBeam"}),(0,m.jsx)("button",{onClick:function(){return O("internet")},className:"px-4 py-2 rounded ".concat("internet"===q?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:"\u0628\u0627\u0642\u0627\u062a \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a"}),(0,m.jsx)("button",{onClick:function(){return O("news")},className:"px-4 py-2 rounded ".concat("news"===q?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:"\u0627\u0644\u0623\u062e\u0628\u0627\u0631"})]}),y?(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,m.jsx)("p",{className:"mt-4 text-lg text-gray-300",children:"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."})]}):_?(0,m.jsx)("p",{className:"text-red-400",children:_}):"news"===q?(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-blue-400",children:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0623\u062e\u0628\u0627\u0631"}),(0,m.jsx)("button",{onClick:function(){X(null),R(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u0625\u0636\u0627\u0641\u0629 \u062e\u0628\u0631 \u062c\u062f\u064a\u062f"})]}),(0,m.jsx)("div",{className:"grid gap-6",children:G.map((function(e){var t,r;return(0,m.jsx)("div",{className:"bg-gray-800 p-6 rounded-lg",children:(0,m.jsxs)("div",{className:"flex justify-between items-start",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"text-xl font-bold text-blue-400",children:e.title}),(0,m.jsx)("p",{className:"text-gray-300 mt-2",children:e.content}),(0,m.jsxs)("div",{className:"flex items-center gap-4 mt-4 text-gray-400 text-sm",children:[(0,m.jsxs)("span",{children:["\u0628\u0648\u0627\u0633\u0637\u0629 ",null===(t=e.author)||void 0===t?void 0:t.firstName," ",null===(r=e.author)||void 0===r?void 0:r.lastName]}),(0,m.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("ar-SA")}),(0,m.jsx)("span",{className:e.isPublished?"text-green-400":"text-yellow-400",children:e.isPublished?"\u0645\u0646\u0634\u0648\u0631":"\u0645\u0633\u0648\u062f\u0629"})]})]}),(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("button",{onClick:function(){return X(e),O("news"),void R(!0)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u062a\u0639\u062f\u064a\u0644"}),(0,m.jsx)("button",{onClick:function(){return re(e._id)},className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"\u062d\u0630\u0641"})]})]})},e._id)}))})]}):(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-blue-400",children:"cctv"===q?"\u0625\u062f\u0627\u0631\u0629 \u0645\u0646\u062a\u062c\u0627\u062a \u0643\u0627\u0645\u064a\u0631\u0627\u062a \u0627\u0644\u0645\u0631\u0627\u0642\u0628\u0629":"nanobeam"===q?"\u0625\u062f\u0627\u0631\u0629 \u0645\u0646\u062a\u062c\u0627\u062a NanoBeam":"\u0625\u062f\u0627\u0631\u0629 \u0628\u0627\u0642\u0627\u062a \u0627\u0644\u0625\u0646\u062a\u0631\u0646\u062a"}),(0,m.jsxs)("button",{onClick:function(){I(null),R(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:["\u0625\u0636\u0627\u0641\u0629 ","cctv"===q?"\u0645\u0646\u062a\u062c":"\u0628\u0627\u0642\u0629"," \u062c\u062f\u064a\u062f"]})]}),(0,m.jsx)("div",{className:"grid gap-6",children:w[q].map((function(e){return(0,m.jsx)("div",{className:"bg-gray-800 p-6 rounded-lg",children:(0,m.jsxs)("div",{className:"flex justify-between items-start",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"text-xl font-bold text-blue-400",children:e.title}),(0,m.jsx)("p",{className:"text-gray-300 mt-2",children:e.description}),(0,m.jsxs)("div",{className:"flex items-center gap-4 mt-4 text-gray-400 text-sm",children:[(0,m.jsxs)("span",{children:[e.price," \u0631\u064a\u0627\u0644"]}),(0,m.jsx)("span",{className:e.isActive?"text-green-400":"text-red-400",children:e.isActive?"\u0645\u062a\u0648\u0641\u0631":"\u063a\u064a\u0631 \u0645\u062a\u0648\u0641\u0631"})]})]}),(0,m.jsxs)("div",{className:"flex gap-2",children:[(0,m.jsx)("button",{onClick:function(){return function(e,t){O(t),I(e),R(!0)}(e,q)},className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"\u062a\u0639\u062f\u064a\u0644"}),(0,m.jsx)("button",{onClick:function(){return $(e._id,q)},className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"\u062d\u0630\u0641"})]})]})},e._id)}))})]})]})})}):null}},4942:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=800.0e7fa785.chunk.js.map